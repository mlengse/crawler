[package]
name = "rust_backend"
version = "0.1.0"
edition = "2021"

[dependencies]
wasm-bindgen = "0.2"
# This line declares our crate's direct dependency on getrandom.
# It specifies the version we want (0.2.12) and the features it needs for wasm ("js").
# default-features = false is important for getrandom when using the "js" feature.
getrandom = { version = "0.2.12", default-features = false, features = ["js"] }
scraper = "0.19.0"
html2md = "0.2.15"
regex = "1.10.4"

# Library crate type configuration - ENSURE THIS IS PRESENT
[lib]
crate-type = ["cdylib", "rlib"]

# This patch section forces all crates in the dependency graph (including transitive ones like ahash)
# that depend on 'getrandom' to use exactly version "0.2.12" from crates.io.
# The features specified in this crate's [dependencies] section for getrandom (i.e., "js")
# will then be applied to this globally patched version 0.2.12.
[patch.crates-io]
getrandom = { version = "=0.2.12" } # Use exact version specifier for patch
